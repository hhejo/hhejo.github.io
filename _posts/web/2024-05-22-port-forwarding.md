---
title: 포트 포워딩 설정하기
date: 2024-05-22 11:34:07 +0900
last_modified_at: 2024-05-24 13:25:02 +0900
categories: [Web]
tags: [web, port-forwaring]
---

포트 포워딩은 뭐고 어떻게 하는 걸까요?

## 포트 포워딩

포트 포워딩(Port forwarding)

- 컴퓨터 네트워크 상에서 패킷이 방화벽이 라우터 같은 네트워크 게이트를 지날 때,
- IP 주소와 포트 번호 결합의 통신 요청을 다른 곳으로 넘겨주는 네트워크 주소 변환의 응용
- 라우터에서 새로운 기능을 이용할 수 있는 강력한 툴이 될 수 있음
- 심각한 온라인 취약성에 노출시킬 수도 있음

### 알아두기

IP 주소(Internet Protocol Address)

- 컴퓨터 네트워크에서 장치들이 서로를 인식하고 통신하기 위해 사용하는 번호

공인 IP 주소

- 인터넷 상에서 다른 PC와 통신하기 위해 필요한 IP 주소
- 서버를 구축하거나 각자의 PC에 인터넷을 연결하는 경우, 인터넷을 통한 통신을 하기 위한 IP 주소
- 각 공인 IP 주소는 세상에서 유일한 주소로, 중복되지 않음
- `IPv4`: `0~255`까지의 숫자 4개로 구성
  - 약 42억 개의 주소 할당 가능
  - 전 세계 모든 장비에 할당하기에는 부족
  - 외부 네트워크가 필요하지 않은 장비에 대해서는 별도의 사설 네트워크를 구축함

사설 IP 주소

- 내부 네트워크 상에서 각 컴퓨터 간 통신하기 위해 필요한 IP 주소
- 내부망을 구축할 때 활용
- 공유기를 활용해 망을 구성하면 `192.168.x.x` 형태로 구성 - 이를 사설 IP 주소라 함
- 내부망에서만 사용되기 때문에 서로 다른 내부망에서는 동일한 사설 IP 주소를 가져도 상관 없음

외부 IP 주소

- 외부 네트워크: 기기가 현재 포함된 네트워크
- 이 외부 네트워크와 통신할 때 사용하는 IP 주소
- 대체로 현재 포함된 네트워크가 인터넷 망과 공유기를 통해 연결된 경우가 대부분
- 별도의 네트워크를 설정하지 않은 가상머신을 사용하는 경우, 가상머신의 외부 IP 주소는 가상머신을 구동하는 PC의 내부 IP 주소를 가짐
- 가상머신의 외부 네트워크는 가상머신을 구동하는 PC이기 때문

내부 IP 주소

- 기기가 현재 포함된 네트워크 내부에서 사용하는 IP 주소

### 포트 포워딩이란?

포트 포워딩(Port forwaring)

- port를 전달(forwarding)해 주는 것
- 특정한 포트로 들어오는 데이터 패킷을 다른 포트로 바꿔서 다시 전송해주는 작업
- 특정한 방식으로 라우터를 설정하여 데이터를 이동시키는 방법을 의미

포트 포워딩 사용

- `외부_IP_주소:포트_번호`와 `내부_IP_주소:포트_번호`를 연결
- 별도의 설정 없이 외부 IP가 접속을 시도할 때, 내부의 어떤 프로세스 또는 기기와 연결할 지 알 수 없기 때문에 접근 불가

포트 포워딩의 장점

- 수신 데이터가 NAT 방화벽을 우회하도록 하여 인터넷 연결 속도를 개선
- 인터넷 속도를 개선해주고 원격으로 기기에 액세스하도록 도움

서버 포트 포워딩

- 라우터에 일부 데이터를 네트워크 내의 특정 기기로 전송하라고 명령하게 됨
- 속도가 빨라지는 등의 장점

### 포트 포워딩의 원리

라우터

- 라우터에 연결된 모든 기기에 사설 네트워크를 구축해주는 역할
- 공용 IP도 할당받음
- 라우터에 연결된 기기는 인터넷에 접속하기 위해 무조건 라우터를 거쳐야 함
- 가정용 기기를 원격 기기에 직접 연결하고 싶다면, 서버 포트 포워딩을 설정해야 함

라우터와 포트

- 라우터에는 6만 개 이상의 포트가 있음
- 1,000개의 포트를 표준 특정 기능에 이용 가능
- 나머지 포트는 원하는 기기나 프로그램에 할당 가능
- 이러한 방식으로 라우터에 있는 포트를 열어 특정 기기에 할당 가능
- 이렇게 설정하면 기기가 라우터로 요청을 보낼 때, 자동으로 기기가 직접적인 인터넷 연결을 형성

### 포트 포워딩의 목적

- 가정용 네트워크와 원격 기기 사이를 직접적으로 연결하는 경우에 유용
- 원격으로 가정용 서버에 연결
- 스마트홈 기기를 가정용 네트워크에 연결
- 게임 서버에 직접적으로 연결
- 원격 데스크톱 소프트웨어를 이용해 가정용 컴퓨터에 접속
- 외출 시 가정용 CCTV를 모니터링

### 포트 포워딩 설정 방법

세부적인 포트 포워딩 설정 방법은 라우터와 브랜드에 따라 상이

1. 라우터에 로그인
2. 포트 포워딩 설정 열기
3. 내부 포트, 외부 포트 입력
4. 네트워크에서 포트를 연결하고자 하는 기기의 로컬 IP 주소 입력
5. 이제 라우터는 사설 IP 주소를 노출하지 않으면서 특정 포트로 전송되는 모든 요청을 바로 기기로 리디렉션 가능

### 포트 포워딩과 안전

- 원래 라우터에서 정보를 확인하고 정보가 들어올 수 있도록 허락해야 함
- 포트 포워딩은 말 그대로 포트를 열어 두는 작업이기 때문에 해킹의 위험성이 높아짐
- 보안 상 중요한 기기에는 포트 포워딩 기능을 이용하지 않는 것이 좋음
- 수동으로 설정되어 있는 포트는 수동으로 잠그지 않으면 계속 열려 있다는 점도 문제

예

- 장기간 여행 중에, 포트 포워딩 기능을 이용해 가정용 CCTV로 집안 내부를 모니터링 하는 경우
- 보안이 허술한 비밀번호를 걸어뒀다면 해커가 보안용 카메라를 해킹해 집안 내부를 들여다 볼 수 있음
- 포트 포워딩 기능을 통해 원격 데스크톱 소프트웨어를 이용하여 가정용 컴퓨터에 접속하는 경우
- 해커가 PC로 직접 연결된 포트를 이용해 컴퓨터를 감염시킬 수 있음

## 참고

[포트포워딩: 포트포워딩의 정의와 설정 방법](https://nordvpn.com/ko/blog/port-forwarding-vpn/)

['포트 포워딩' 왜 하는 걸까? 🌐](https://velog.io/@dha/포트-포워딩-왜-하는-걸까)

[Network Port와 포트 포워딩(Port-Forwarding)이란?](https://ooeunz.tistory.com/104)

[포트포워딩의 개념 및 공유기 설정 방법](https://m.blog.naver.com/seoulworkshop/221265052717)
